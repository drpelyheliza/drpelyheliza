<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="description" content="Pelyhe Liza (Liza Pelyhe) Interaktív világtérképes utazási blogom: személyes élményeim, történeteim és fotóim minden kontinensről. Kattints az országokra és fedezd fel a világot velem!">
	<meta name="keywords" content="Pelyhe Liza, Liza Pelyhe">
	<meta name="author" content="Pelyhe Liza">
	<meta property="og:title" content="Kalandok • Dr. Pelyhe Liza">
	<meta property="og:description" content="Pelyhe Liza (Liza Pelyhe) Interaktív világtérképes utazási blogom: személyes élményeim, történeteim és fotóim minden kontinensről. Kattints az országokra és fedezd fel a világot velem!">
	<meta property="og:image" content="https://drive.google.com/uc?id=1M7w7ozmhRyXToDKxX6W_unAY5xINWUek">
	<meta property="og:type" content="website">

  <title>Kalandok • Dr. Pelyhe Liza</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>
  
<style>
    body, html { margin:0; padding:0; height:100%; }
    #map { height: 100%; }
    .popup-list { margin:0; padding:0; }
    .popup-list li { list-style:none; margin:4px 0; }
  
.header {
  position: relative;
  width: 100%;
  height: 30vh; /* vagy pl. 50vh, hogy rugalmas legyen. vh = viewport height, tehát az ablak magasságához igazodik. */
  overflow: hidden;
  margin: 0 0 1vw 0;
}

/* ez a trükk: az iframe "cover" mód */
.video-background {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100vw;
  height: 100vw;
  min-height: 100%;
  min-width: 100%;
  transform: translate(-50%, -50%);
  overflow: hidden;
}

.video-background iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  border: none;
}

.header-content {
  position: relative;
  z-index: 1;
  color: white;
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100%;
  padding: 0 5vw;
  text-shadow: 0 0 clamp(5px, 1vw, 12px) rgba(0,0,0,0.7);
}

.header-content h1 {
    font-family: Arial, sans-serif;
  font-size: clamp(2rem, 5vw, 4rem); /* min 2rem, max 4rem, közben arányosan nő */
  margin: 0;
  line-height: 1.1;
} 


.header-content h2 {
    font-family: Arial, sans-serif;
  font-size: clamp(1.3rem, 2.5vw, 2rem); /* clamp(1.2rem, 3vw, 2.5rem) */
  color: #ffffff !important;
  margin: clamp(5px, 1.5vw, 15px) 0 0 0;
  line-height: 1.2; /* line-height: 1.2 */
} 

nav a {
  color: white;
  text-decoration: none;
  margin: 0 clamp(5px, 2vw, 20px); /* margin: 0 15px; */
  font-weight: bold;
  font-size: clamp(0.9rem, 2vw, 1.2rem);
  transition: text-shadow 0.3s ease;
}

nav a:hover {
  text-shadow: 0 0 clamp(5px, 1vw, 12px) white;
}
    body {
      font-family: Arial, sans-serif;
      font-size: 15px;
      line-height: 1.8; /* ízléses sorköz */
      color: #222;
      margin: 20px;
    }

      .link-button {
  display: inline-block;
  background-color: #ebf6ff;
  color: grey;
  padding: 8px 16px;
  border-radius: 6px;
  text-decoration: none;
  font-weight: bold;
  transition: background-color 0.3s ease;
}
.link-button:hover {
  background-color: #005fa3;
}


footer {
  text-align: center;
  padding: 0.2em 0.4em;
  background: #eee;
  color: #555;
}

    /* Mobil nézetre */
    @media (max-width: 800px) {
      .column {
        flex: 1 1 100%;
      }
    }

    </style>
</head>


<body>

<div class="header">
  <div class="video-background">
    <iframe 
      src="https://drive.google.com/file/d/1M7w7ozmhRyXToDKxX6W_unAY5xINWUek/preview" 
      allow="autoplay"
      frameborder="0"
      allowfullscreen>
    </iframe>
  </div>
  <div class="header-content">
    <h1>Kalandok</h1>
  <!--  <h2>Utazási blog, ahol minden jelölő egy történetet rejt</h2> -->
	<h2>Minden jelölő egy utazás története</h2>	
    <nav>
      <a href="index.html">Főoldal</a>
      <a href="kalandok.html">Kalandok</a>
      <a href="szakmai.html">Szakmai oldal</a>
    </nav>
  </div>
</div>


  <div id="map"></div>

  <script>
    // Alap térkép
    var map = L.map('map').setView([20, 0], 2);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Marker ikon készítő függvény szín alapján
    function coloredMarker(color) {
      return L.icon({
        iconUrl: "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-" + color + ".png",
        shadowUrl: "https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
      });
    }

    // Google Sheet CSV link
    var sheetUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSjCh-oDJvW3IjGadO36DJ5QgIvvMGwpunzTNQM3PZzTCLPQLebDCXfowxMDzRHm_aScnxqYXdUBCwt/pub?output=csv";

    // Adatok betöltése
    Papa.parse(sheetUrl, {
      download: true,
      header: true,
      skipEmptyLines: true,
      complete: function(results) {
        var grouped = {};

        results.data.forEach(function(row) {
          if (row.Country && row.Latitude && row.Longitude) {
            var key = row.Country + "_" + row.Latitude + "_" + row.Longitude;
            if (!grouped[key]) {
              grouped[key] = {
                country: row.Country,
                lat: parseFloat(row.Latitude),
                lon: parseFloat(row.Longitude),
                posts: [],
                color: row.Color ? row.Color.toLowerCase() : "blue" // alapértelmezett szín
              };
            }
            grouped[key].posts.push({
              title: row["Blog Title"],
              url: row.URL
            });
          }
        });

        // Markerek elhelyezése
        Object.values(grouped).forEach(function(place) {
          var popupContent = "<b>" + place.country + "</b><ul class='popup-list'>";
          place.posts.forEach(function(post) {
            popupContent += "<li><a href='" + post.url + "' target='_blank'>" + post.title + "</a></li>";
          });
          popupContent += "</ul>";

          L.marker([place.lat, place.lon], { icon: coloredMarker(place.color) })
            .addTo(map)
            .bindPopup(popupContent);
        });
      }
    });
  </script>
    
  <footer>
    © 2025 Dr. Pelyhe Liza <a href="mailto:lizapelyhe.dr@mensa.hu">lizapelyhe.dr@mensa.hu</a>
  </footer>
    
</body>
</html>
